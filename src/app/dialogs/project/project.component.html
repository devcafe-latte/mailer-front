<form [formGroup]="form">
  <fieldset [disabled]="loading">
    <ng-container *ngIf="editMode; else newTemplate">
      <h2 mat-dialog-title>{{ prefix + "title-edit" | translate: project }}</h2>
      <div mat-dialog-content [style.max-width.px]="350">
        <p [innerHtml]="prefix + 'content-edit' | translate"></p>
      </div>
    </ng-container>
    <ng-template #newTemplate>
      <h2 mat-dialog-title>{{ prefix + "title-new" | translate: project }}</h2>
      <div mat-dialog-content [style.max-width.px]="350">
        <p [innerHtml]="prefix + 'content-new' | translate"></p>
      </div>
    </ng-template>
    <div mat-dialog-content [style.max-width.px]="350">
      <div>
        <mat-form-field appearance="fill" [style.width.%]="100">
          <mat-label>{{ prefix + "name" | translate }}</mat-label>
          <input matInput formControlName="name" />
          <mat-error>{{ prefix + getError("name") | translate }}</mat-error>
        </mat-form-field>
      </div>

      <div>
        <mat-form-field appearance="fill" [style.width.%]="100">
          <mat-label>{{ prefix + "default-lang" | translate }}</mat-label>
          <input matInput formControlName="defaultLang" />
          <mat-error>{{ prefix + "lang-invalid" | translate }}</mat-error>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance="fill" [style.width.%]="100">
          <mat-label>{{ prefix + "default-env" | translate }}</mat-label>
          <input matInput formControlName="defaultEnv" />
          <mat-error>{{ prefix + "env-invalid" | translate }}</mat-error>
        </mat-form-field>
      </div>
    </div>
    <div mat-dialog-actions align="end">
      <button
        [disabled]="loading"
        type="button"
        mat-button
        color="primary"
        (click)="cancel()"
      >
        {{ prefix + "cancel" | translate }}
      </button>
      <button
        [disabled]="loading"
        type="submit"
        mat-raised-button
        color="primary"
        [disabled]="form.invalid"
        (click)="confirm()"
      >
        {{ prefix + "confirm" | translate }}
      </button>
    </div>
  </fieldset>
</form>
